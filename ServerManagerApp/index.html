<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overview Invest V5 - Control Center</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Login Modal (Hidden by default) -->
    <div id="login-overlay" class="overlay" style="display: none;">
        <div class="login-card">
            <div class="logo">
                <span class="logo-icon">üîí</span>
                <span class="logo-text">SECURE LOGIN</span>
            </div>
            <p style="margin: 10px 0; color: var(--text-dim); font-size: 13px; text-align: center;">Backend must be
                running to authenticate.</p>
            <div class="input-group">
                <input type="email" id="login-email" placeholder="Admin Email" value="admin@overview.com">
                <input type="password" id="login-pass" placeholder="Admin Password">
                <button onclick="handleLogin()" id="login-btn" class="btn-primary"
                    style="margin-top:10px">AUTHENTICATE</button>
            </div>
            <button onclick="switchTab('SERVICES')" class="btn-secondary" style="width:100%; margin-top:10px">BACK TO
                SERVICES</button>
            <div id="login-error" class="error-msg" style="display:none; margin-top:15px; text-align:center;"></div>
        </div>
    </div>

    <div class="app-container" id="main-app">
        <!-- Custom Title Bar -->
        <div class="title-bar">
            <div class="logo">
                <span class="logo-icon">‚†∂</span>
                <span class="logo-text">OVERVIEW INVEST <span class="v5">V5</span></span>
            </div>
            <div class="window-controls">
                <button id="minimize-btn" class="control-btn">‚Äî</button>
                <button id="maximize-btn" class="control-btn">‚ñ¢</button>
                <button id="close-btn" class="control-btn close">√ó</button>
            </div>
        </div>

        <div class="main-content">
            <!-- Sidebar / Stats -->
            <div class="sidebar">
                <div class="status-card">
                    <h3>SYSTEM HEALTH</h3>
                    <div class="global-status">
                        <span class="status-dot pulse"></span>
                        <span class="status-label">OPERATIONAL</span>
                    </div>
                </div>

                <div class="quick-stats">
                    <div class="stat-item">
                        <span class="stat-label">UPTIME</span>
                        <span class="stat-value" id="uptime">00:00:00</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">MEMORY</span>
                        <span class="stat-value" id="mem-usage">-- MB</span>
                    </div>
                </div>

                <nav class="side-nav">
                    <button class="nav-item active">SERVICES</button>
                    <button class="nav-item">MANAGEMENT</button>
                    <button class="nav-item">ANALYTICS</button>
                    <button class="nav-item">SECURITY</button>
                    <div style="margin-top: auto; padding: 20px 0;">
                        <button onclick="openWebsite()" class="btn-secondary"
                            style="width: 100%; border-color: var(--accent-color); color: var(--accent-color);">üåê VISIT
                            WEBSITE</button>
                    </div>
                </nav>
            </div>

            <!-- Service Control Area -->
            <div class="content-view">
                <div id="services-view">
                    <div class="view-header"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div>
                            <h2>SERVICE CONTROL</h2>
                            <p>Manage background engines and reactors</p>
                        </div>
                        <button onclick="startAll()" class="btn-primary ignition-btn">üî• LAUNCH ALL SERVICES</button>
                    </div>

                    <div class="services-grid">
                        <!-- Redis -->
                        <div class="service-card" id="card-redis">
                            <div class="card-header">
                                <span class="icon">üóÑÔ∏è</span>
                                <h4>Redis DB</h4>
                                <span class="badge" id="badge-redis">STOPPED</span>
                            </div>
                            <div class="card-body">
                                <p>Global data store & publisher</p>
                            </div>
                            <div class="card-footer">
                                <button onclick="toggleService('redis')" id="btn-redis">START</button>
                            </div>
                        </div>

                        <!-- Python Market Sim -->
                        <div class="service-card" id="card-python">
                            <div class="card-header">
                                <span class="icon">üêç</span>
                                <h4>Market Sim</h4>
                                <span class="badge" id="badge-python">STOPPED</span>
                            </div>
                            <div class="card-body">
                                <p>Python GBM Price Algorithm</p>
                            </div>
                            <div class="card-footer">
                                <button onclick="toggleService('python')" id="btn-python">START</button>
                            </div>
                        </div>

                        <!-- Node.js Backend -->
                        <div class="service-card" id="card-node">
                            <div class="card-header">
                                <span class="icon">üü¢</span>
                                <h4>Backend API</h4>
                                <span class="badge" id="badge-node">STOPPED</span>
                            </div>
                            <div class="card-body">
                                <p>Express.js Security Gateway</p>
                            </div>
                            <div class="card-footer">
                                <button onclick="toggleService('node')" id="btn-node">START</button>
                            </div>
                        </div>

                        <!-- React Frontend -->
                        <div class="service-card" id="card-react">
                            <div class="card-header">
                                <span class="icon">‚öõÔ∏è</span>
                                <h4>Frontend UI</h4>
                                <span class="badge" id="badge-react">STOPPED</span>
                            </div>
                            <div class="card-body">
                                <p>Vite + React Dashboard</p>
                            </div>
                            <div class="card-footer">
                                <button onclick="toggleService('react')" id="btn-react">START</button>
                            </div>
                        </div>
                    </div>

                    <!-- Management View (Hidden by default) -->
                    <div id="management-view" class="view-container" style="display: none;">
                        <div class="view-header">
                            <h2>SYSTEM MANAGEMENT</h2>
                            <p>Configure stocks, users and market behavior</p>
                        </div>

                        <div class="mgmt-grid">
                            <!-- Market Control (Increase/Decrease) -->
                            <div class="mgmt-card">
                                <h3>MARKET VOLATILITY CONTROL</h3>
                                <div class="input-group">
                                    <select id="manip-symbol">
                                        <option>Select Stock...</option>
                                    </select>
                                    <select id="manip-direction">
                                        <option value="UP">INCREASE (PUMP)</option>
                                        <option value="DOWN">DECREASE (DUMP)</option>
                                    </select>
                                    <input type="number" id="manip-time" placeholder="Time (Minutes)">
                                    <button onclick="applyManipulation()" class="btn-primary">APPLY IMPACT</button>
                                </div>
                            </div>

                            <!-- Stock Add/Update -->
                            <div class="mgmt-card">
                                <h3>STOCK CATALOG MANAGER</h3>
                                <div class="input-group">
                                    <input type="text" id="stock-symbol" placeholder="Symbol (e.g. TATA)">
                                    <input type="text" id="stock-name" placeholder="Company Name">
                                    <input type="number" id="stock-price" placeholder="Initial Price">
                                    <div class="btn-row">
                                        <button onclick="addStock()" class="btn-primary">ADD STOCK</button>
                                        <button onclick="updateStock()" class="btn-secondary">UPDATE</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lists -->
                        <div class="lists-container">
                            <div class="list-section">
                                <div class="list-header">
                                    <span>ACTIVE STOCKS</span>
                                    <button onclick="fetchStocks()" class="refresh-btn">‚ü≥ Refresh</button>
                                </div>
                                <div id="stocks-list" class="data-table">
                                    <!-- Stocks will be loaded here -->
                                </div>
                            </div>

                            <div class="list-section">
                                <div class="list-header">
                                    <span>USER REGISTER</span>
                                </div>
                                <div id="users-list" class="data-table">
                                    <!-- Users will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Analytics View (Hidden by default) -->
                    <div id="analytics-view" class="view-container" style="display: none;">
                        <div class="view-header">
                            <h2>PLATFORM ANALYTICS</h2>
                            <p>Real-time data from your trading ecosystem</p>
                        </div>
                        <div class="analytics-grid">
                            <div class="stat-card-large">
                                <h3>Total Market Cap</h3>
                                <p class="value">$1,245,670.00</p>
                                <span class="trend">+2.4% Today</span>
                            </div>
                            <div class="stat-card-large">
                                <h3>Active Traders</h3>
                                <p class="value">14</p>
                                <span class="trend">Live Sessions</span>
                            </div>
                        </div>
                    </div>

                    <!-- Security View (Hidden by default) -->
                    <div id="security-view" class="view-container" style="display: none;">
                        <div class="view-header">
                            <h2>SECURITY GATEWAY</h2>
                            <p>Manage access and system integrity</p>
                        </div>
                        <div class="security-list">
                            <div class="security-item">
                                <span class="label">Admin Gateway</span>
                                <span class="status locked">ENCRYPTED</span>
                            </div>
                            <div class="security-item">
                                <span class="label">JWT Session Length</span>
                                <span class="status">2 HOURS</span>
                            </div>
                            <div class="security-item">
                                <span class="label">Firewall Status</span>
                                <span class="status active">ACTIVE</span>
                            </div>
                        </div>
                    </div>

                    <!-- Live Log Monitor -->
                    <div class="log-monitor">
                        <div class="log-header">
                            <span>LIVE LOG MONITOR</span>
                            <button onclick="clearLogs()" class="clear-btn">CLEAR</button>
                        </div>
                        <div id="log-output" class="log-output">
                            <p class="system-msg">[SYSTEM] Welcome, Admin Vyast. Waiting for command...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="renderer.js"></script>
</body>

</html>